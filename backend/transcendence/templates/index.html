<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Pong Game</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/index.css' %}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>

    <div class="container">
        <header class="d-flex flex-wrap align-items-center justify-content-center justify-content-md-between py-3 mb-4 border-bottom">

            <div class="col-md-3 mb-2 mb-md-0">
                <a href="/" class="d-inline-flex link-body-emphasis text-decoration-none" data-link>
                    <img src="{% static 'images/pong.svg' %}" alt="" class="logo">
                </a>
            </div>

            {% if user.is_authenticated %}
            <div id="menu">
                <ul class="nav col-12 col-md-auto mb-2 justify-content-center mb-md-0">
                    <li><a href="/" class="nav-link px-2 link-secondary" data-link>Home</a></li>
                    <li><a href="/game" class="nav-link px-2" data-link>Game</a></li>
                    <li><a href="/profile" class="nav-link px-2" data-link>Profile</a></li>
                    <li><a href="/dashboard" class="nav-link px-2" data-link>Dashboard</a></li>
                    <li><a href="/chat" class="nav-link px-2" data-link>Chat</a></li>
                    <li><a href="/invite" class="nav-link px-2" data-link>Invite Friends</a></li>
                </ul>
            </div>
            <div class="col-md-3 text-end">
                <form method="post" action="{% url 'logout' %}">
                    {% csrf_token %}
                    <button type="submit" class="btn btn-primary">Logout</button>
                </form>
            </div>
            {% else %}
                <div class="col-md-3 text-end">
                    <a href="https://api.intra.42.fr/oauth/authorize?client_id={{ CLIENT_ID_42 }}&redirect_uri={{ REDIRECT_URI_42 }}&response_type=code"
                        class="btn btn-primary">Login 42</a>
                </div>
            {% endif %}
        </header>
    </div>

    <div class="b-example-divider"></div>

    <div id="app"></div>
    {% load static %}
    <script type="module" src="{% static 'js/index.js' %}"></script>
    <script>
        // Definindo a função loginAction no escopo global
        window.loginAction = () => {
            console.log("Login button clicked");
            window.location.href = "https://api.intra.42.fr/oauth/authorize?client_id=u-s4t2ud-69813f6d434e40ee5bb3cad43e1b52f0285d015bb9b53a643c7bd810edd5e9c0&redirect_uri=http%3A%2F%2Flocalhost%3A8000%2Flogin%2Foauth%2Fcallback&response_type=code";
        }

        // Definindo a função logoutAction no escopo global
        window.logoutAction = () => {
            console.log("Logout button clicked");
            window.location.href = "http://localhost:8000/logout";
        }
    </script>

</body>

</html>